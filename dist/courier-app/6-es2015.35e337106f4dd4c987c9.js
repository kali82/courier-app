(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ZLIq:function(n,t,e){"use strict";e.r(t),e.d(t,"ConsignmentsModule",(function(){return Cn}));var c=e("ofXK"),i=e("3Pt+"),o=e("tyNb"),a=e("chLL"),l=e("tmTa"),s=e("sCmA"),b=e("R3tS"),r=e("qXBG"),m=e("Wg6b"),u=e("AytR"),g=e("fXoL"),h=e("IRfi"),d=e("A2Vd"),p=e("Xlwt"),f=e("J0hL"),P=e("gVAx"),z=e("TY1r"),v=e("SSqQ"),Q=e("G/Ji"),w=e("SnT8");let x=(()=>{class n{constructor(n){this.vcRef=n}get expended(){return this.opened}set cdkDetailRow(n){n!==this.row&&(this.row=n)}set template(n){n!==this.tRef&&(this.tRef=n)}onClick(){this.toggle()}toggle(){this.opened?this.vcRef.clear():this.render(),this.opened=this.vcRef.length>0}render(){this.vcRef.clear(),this.tRef&&this.row&&this.vcRef.createEmbeddedView(this.tRef,{$implicit:this.row})}}return n.\u0275fac=function(t){return new(t||n)(g.Kb(g.P))},n.\u0275dir=g.Fb({type:n,selectors:[["","cdkDetailRow",""]],hostVars:2,hostBindings:function(n,t){1&n&&g.Yb("click",(function(){return t.onClick()})),2&n&&g.Cb("expanded",t.expended)},inputs:{cdkDetailRow:"cdkDetailRow",template:["cdkDetailRowTpl","template"]}}),n})();function k(n,t){if(1&n){const n=g.Rb();g.Qb(0,"button",31),g.Yb("click",(function(){return g.nc(n),g.cc(2).deleteSelected()})),g.Qb(1,"mat-icon"),g.xc(2,"delete"),g.Pb(),g.xc(3," usu\u0144 "),g.Pb()}}function y(n,t){if(1&n){const n=g.Rb();g.Qb(0,"button",32),g.Yb("click",(function(){return g.nc(n),g.cc(2).settleSelected()})),g.Qb(1,"mat-icon"),g.xc(2,"check_circle"),g.Pb(),g.xc(3," rozlicz "),g.Pb()}}function C(n,t){if(1&n){const n=g.Rb();g.Qb(0,"mat-header-cell"),g.Qb(1,"mat-checkbox",33),g.Yb("change",(function(t){g.nc(n);const e=g.cc(2);return t?e.masterToggle():null})),g.Pb(),g.Pb()}if(2&n){const n=g.cc(2);g.zb(1),g.hc("checked",n.selection.hasValue()&&n.isAllSelected())("indeterminate",n.selection.hasValue()&&!n.isAllSelected())}}function L(n,t){if(1&n){const n=g.Rb();g.Qb(0,"mat-cell",34),g.Yb("click",(function(t){return g.nc(n),t.stopPropagation()})),g.Qb(1,"mat-checkbox",35),g.Yb("change",(function(e){g.nc(n);const c=t.$implicit,i=g.cc(2);return e?i.selection.toggle(c):null})),g.Pb(),g.Pb()}if(2&n){const n=t.$implicit,e=g.cc(2);g.zb(1),g.hc("checked",e.selection.isSelected(n))}}function S(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," rozliczone "),g.Pb())}function I(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.Lb(1,"mat-checkbox",37),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.hc("checked",n.settled)}}function O(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," id przesy\u0142ki "),g.Pb())}function D(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.yc(n.consignmentId)}}function R(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," u\u017cytkownik "),g.Pb())}function N(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.yc(n.login)}}function T(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," nadawca "),g.Pb())}function _(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.yc(n.shipperName)}}function M(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," odbiorca "),g.Pb())}function A(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.zc(" ",n.receiverName," ")}}function $(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," status "),g.Pb())}function Y(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.zc(" ",n.trackAndTraceInfo[0].status," ")}}function E(n,t){1&n&&(g.Qb(0,"mat-header-cell",36),g.xc(1," data nadania "),g.Pb())}function V(n,t){if(1&n&&(g.Qb(0,"mat-cell"),g.xc(1),g.Pb()),2&n){const n=t.$implicit;g.zb(1),g.zc(" ",n.shipmentDateTime," ")}}function F(n,t){1&n&&g.Lb(0,"mat-header-cell",36)}function K(n,t){if(1&n){const n=g.Rb();g.Qb(0,"mat-cell"),g.Qb(1,"button",38),g.Yb("click",(function(t){return g.nc(n),t.stopPropagation()})),g.Qb(2,"mat-icon"),g.xc(3,"create"),g.Pb(),g.Pb(),g.Qb(4,"button",39),g.Yb("click",(function(e){g.nc(n);const c=t.$implicit;return g.cc(2).onLabelPrint(c.consignmentId),e.stopPropagation()})),g.Qb(5,"mat-icon"),g.xc(6,"print"),g.Pb(),g.Pb(),g.Pb()}}function j(n,t){1&n&&g.Lb(0,"mat-header-row")}function H(n,t){if(1&n&&g.Lb(0,"mat-row",40),2&n){const n=t.$implicit;g.cc();const e=g.lc(49);g.hc("cdkDetailRow",n)("cdkDetailRowTpl",e)}}function q(n,t){1&n&&g.Lb(0,"mat-progress-spinner",41)}function J(n,t){if(1&n&&(g.Ob(0),g.Qb(1,"div"),g.Qb(2,"p"),g.xc(3),g.Pb(),g.Qb(4,"p"),g.xc(5),g.Pb(),g.Pb(),g.Nb()),2&n){const n=t.$implicit;g.zb(3),g.yc(n.description),g.zb(2),g.yc(n.timestamp)}}function X(n,t){if(1&n){const n=g.Rb();g.Qb(0,"div",42),g.Qb(1,"mat-grid-list",43),g.Qb(2,"mat-grid-tile"),g.Qb(3,"div",44),g.Qb(4,"h5"),g.xc(5,"wymiary:"),g.Pb(),g.Lb(6,"br"),g.Qb(7,"span"),g.xc(8),g.Pb(),g.Lb(9,"br"),g.Qb(10,"span"),g.xc(11),g.Pb(),g.Lb(12,"br"),g.Qb(13,"span"),g.xc(14),g.Pb(),g.Pb(),g.Pb(),g.Qb(15,"mat-grid-tile"),g.Qb(16,"p"),g.xc(17),g.Pb(),g.Pb(),g.Qb(18,"mat-grid-tile"),g.Qb(19,"p"),g.xc(20),g.Pb(),g.Pb(),g.Qb(21,"mat-grid-tile"),g.vc(22,J,6,2,"ng-container",45),g.Pb(),g.Pb(),g.Qb(23,"button",46),g.Yb("click",(function(){g.nc(n);const e=t.$implicit;return g.cc(2).showDetails(e.consignmentId)})),g.xc(24," szczeg\xf3\u0142y przesy\u0142ki "),g.Pb(),g.Pb()}if(2&n){const n=t.$implicit,e=g.cc(2);g.zb(1),g.ic("cols",e.detailColumns),g.zb(7),g.zc("wysoko\u015b\u0107: ",n.height,"cm"),g.zb(3),g.zc("szeroko\u015b\u0107: ",n.width,"cm"),g.zb(3),g.zc("d\u0142ugo\u015b\u0107 ",n.length,"cm"),g.zb(3),g.zc("nadawca ",n.shipperName,""),g.zb(3),g.zc("odbiorca ",n.receiverName,""),g.zb(2),g.hc("ngForOf",n.trackAndTraceInfo)}}const B=function(){return[5,10,100]};function Z(n,t){if(1&n){const n=g.Rb();g.Qb(0,"div"),g.Qb(1,"h1",1),g.xc(2,"lista przesy\u0142ek"),g.Pb(),g.Qb(3,"div",2),g.Qb(4,"mat-form-field",3),g.Qb(5,"input",4),g.Yb("keyup",(function(t){return g.nc(n),g.cc().applyFilter(t.target.value)})),g.Pb(),g.Pb(),g.Pb(),g.vc(6,k,4,0,"button",5),g.vc(7,y,4,0,"button",6),g.Qb(8,"button",7),g.Qb(9,"i",8),g.xc(10," add_circle "),g.Pb(),g.xc(11," utw\xf3rz now\u0105 przesy\u0142k\u0119 "),g.Pb(),g.Qb(12,"div",9),g.Qb(13,"mat-table",10,11),g.Ob(15,12),g.vc(16,C,2,2,"mat-header-cell",13),g.vc(17,L,2,1,"mat-cell",14),g.Nb(),g.Ob(18,15),g.vc(19,S,2,0,"mat-header-cell",16),g.vc(20,I,2,1,"mat-cell",17),g.Nb(),g.Ob(21,18),g.vc(22,O,2,0,"mat-header-cell",16),g.vc(23,D,2,1,"mat-cell",17),g.Nb(),g.Ob(24,19),g.vc(25,R,2,0,"mat-header-cell",16),g.vc(26,N,2,1,"mat-cell",17),g.Nb(),g.Ob(27,20),g.vc(28,T,2,0,"mat-header-cell",16),g.vc(29,_,2,1,"mat-cell",17),g.Nb(),g.Ob(30,21),g.vc(31,M,2,0,"mat-header-cell",16),g.vc(32,A,2,1,"mat-cell",17),g.Nb(),g.Ob(33,22),g.vc(34,$,2,0,"mat-header-cell",16),g.vc(35,Y,2,1,"mat-cell",17),g.Nb(),g.Ob(36,23),g.vc(37,E,2,0,"mat-header-cell",16),g.vc(38,V,2,1,"mat-cell",17),g.Nb(),g.Ob(39,24),g.vc(40,F,1,0,"mat-header-cell",16),g.vc(41,K,7,0,"mat-cell",17),g.Nb(),g.vc(42,j,1,0,"mat-header-row",25),g.vc(43,H,1,2,"mat-row",26),g.Pb(),g.vc(44,q,1,0,"mat-progress-spinner",27),g.Qb(45,"mat-toolbar",28),g.Qb(46,"mat-toolbar-row"),g.Qb(47,"mat-paginator",29),g.Yb("page",(function(t){g.nc(n);const e=g.cc();return e.pageEvent=e.handlePage(t)})),g.Pb(),g.Pb(),g.Pb(),g.Pb(),g.vc(48,X,25,7,"ng-template",null,30,g.wc),g.Pb()}if(2&n){const n=g.cc();g.zb(6),g.hc("ngIf",n.selection.hasValue()),g.zb(1),g.hc("ngIf",n.selection.hasValue()&&n.isAdmin),g.zb(6),g.hc("dataSource",n.dataSource),g.zb(29),g.hc("matHeaderRowDef",n.displayedColumns),g.zb(1),g.hc("matRowDefColumns",n.displayedColumns),g.zb(1),g.hc("ngIf",n.isLoading),g.zb(3),g.hc("pageSizeOptions",g.jc(7,B))}}const G=u.a.serverUrl;let U=(()=>{class n{constructor(n,t,e){this.consignmentsService=n,this.router=t,this.authService=e,this.isAuthenticated=!1,this.isAdmin=!1,this.displayedColumns=["select","consignmentId","login","shipperName","receiverName","status","rozliczone","shipmentDateTime","action"],this.detailColumns=this.displayedColumns.length-1,this.selection=new a.c(!0,[]),this.isExpansionDetailRow=n=>n.hasOwnProperty("detailRow")}ngOnInit(){this.isLoading=!0,this.isAdmin=this.authService.getIsAdmin(),this.isAuthenticated=this.authService.getIsAuth(),this.authStatusSub=this.authService.getAuthStatusListener().subscribe(n=>{this.isAuthenticated=n}),this.listConsignments()}listConsignments(){this.consignmentsService.listConsignments().then(n=>{this.isLoading=!1,this.consignments=n.consignments,console.log(n.consignments),this.dataSource=new l.k(this.consignments),this.dataSource.paginator=this.paginator;const t={active:"shipmentDateTime",direction:"desc"};this.sort.active=t.active,this.sort.direction=t.direction,this.sort.sortChange.emit(t),this.dataSource.sort=this.sort})}applyFilter(n){n=(n=n.trim()).toLowerCase(),this.dataSource.filter=n}showDetails(n){this.router.navigate(["./consignments/"+n])}deleteSelected(){let n=[],t=[];this.selection.selected.forEach(e=>{n.push({userName:e.login,consignmentId:e.consignmentId}),t.push(e.login)}),this.consignmentsService.deleteConsignments(t,n).then(()=>{this.listConsignments(),this.selection.clear()},n=>{})}settleSelected(){let n=[],t=[];this.selection.selected.forEach(e=>{n.push({userName:e.login,consignmentId:e.consignmentId}),t.push(e.login)}),this.consignmentsService.settleConsignments(t,n).then(()=>{this.listConsignments(),this.selection.clear()},n=>{})}handlePage(n){this.selection.selected.length>n.pageSize&&(this.selection.clear(),this.selectRows())}isAllSelected(){const n=this.selection.selected.length;return n===this.dataSource.paginator.length||n===this.dataSource.paginator.pageSize}masterToggle(){this.isAllSelected()?this.selection.clear():this.selectRows()}selectRows(){this.dataSource._pageData(this.dataSource._orderData(this.dataSource.filteredData)).forEach(n=>this.selection.select(n))}onLabelPrint(n){this.isLoading=!0,this.consignmentsService.getConsignment(n).then(n=>{let t=G+n.labelPath;this.isLoading=!1,window.open(t,"_blank")},n=>{})}ngOnDestroy(){this.authStatusSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(g.Kb(m.a),g.Kb(o.b),g.Kb(r.a))},n.\u0275cmp=g.Eb({type:n,selectors:[["app-consignment-list"]],viewQuery:function(n,t){var e;1&n&&(g.Cc(s.a,!0),g.Cc(b.a,!0)),2&n&&(g.kc(e=g.Zb())&&(t.paginator=e.first),g.kc(e=g.Zb())&&(t.sort=e.first))},decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-title"],[1,""],[1,"filter"],["matInput","","placeholder","wyszukaj przesy\u0142k\u0119",3,"keyup"],["mat-button","","class","delete-button","matTooltip","usu\u0144 wybrane","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-button","","class","settle-button","matTooltip","rozlicz wybrane","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","routerLink","create",1,"create-button"],[1,"material-icons"],[1,"list-container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select",1,"mat-col-checkbox"],[4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","rozliczone"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","consignmentId"],["matColumnDef","login"],["matColumnDef","shipperName"],["matColumnDef","receiverName"],["matColumnDef","status"],["matColumnDef","shipmentDateTime"],["matColumnDef","action"],[4,"matHeaderRowDef"],["matRipple","","class","element-row",3,"cdkDetailRow","cdkDetailRowTpl",4,"matRowDef","matRowDefColumns"],["color","primary","mode","indeterminate",4,"ngIf"],[1,"toolbar"],["pageSize","10",3,"pageSizeOptions","page"],["tpl",""],["mat-button","","matTooltip","usu\u0144 wybrane","matTooltipPosition","above",1,"delete-button",3,"click"],["mat-button","","matTooltip","rozlicz wybrane","matTooltipPosition","above",1,"settle-button",3,"click"],[3,"checked","indeterminate","change"],[3,"click"],[3,"checked","change"],["mat-sort-header",""],["disabled","true",3,"checked"],["mat-raised-button","","color","primary","matTooltip","utw\xf3rz podobn\u0105","matTooltipPosition","above",1,"edit-button",3,"click"],["mat-raised-button","","color","primary","matTooltip","wydrukuj etykiet\u0119","matTooltipPosition","above",1,"edit-button",3,"click"],["matRipple","",1,"element-row",3,"cdkDetailRow","cdkDetailRowTpl"],["color","primary","mode","indeterminate"],[1,"mat-row","detail-row"],[3,"cols"],[1,"details-diemnsions"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent","matTooltip","szczeg\xf3\u0142y przesy\u0142ki",3,"click"]],template:function(n,t){1&n&&g.vc(0,Z,50,8,"div",0),2&n&&g.hc("ngIf",t.isAuthenticated)},directives:[c.k,h.b,d.b,p.a,o.c,l.j,b.a,l.c,l.e,l.b,l.g,l.i,f.a,f.c,s.a,P.a,z.a,l.d,v.a,l.a,b.b,l.f,l.h,x,Q.a,w.a,w.c,c.j],styles:[".detail-row[_ngcontent-%COMP%]{font-size:.8em;border-bottom:2px solid #ffd740}.element-row[_ngcontent-%COMP%]{min-height:4em;border:none;border-top:1px solid rgba(0,0,0,.2)}.element-row[_ngcontent-%COMP%]:not(.expanded){cursor:pointer}.element-row[_ngcontent-%COMP%]:not(.expanded):hover{background:#f5f5f5}.element-row[_ngcontent-%COMP%]:not(.expanded):hover   button[_ngcontent-%COMP%]{visibility:visible}.mat-column-select[_ngcontent-%COMP%]{flex:0 0 4%!important}.edit-button[_ngcontent-%COMP%]{visibility:hidden;margin:0 0 0 .5em}.mat-paginator[_ngcontent-%COMP%]{width:100%;background:none}.mat-toolbar-row[_ngcontent-%COMP%]{padding:0}button[_ngcontent-%COMP%]{margin:2em 1.5em 0 0}.delete-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.create-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .settle-button[_ngcontent-%COMP%]{margin:0 4px!important}.settle-button[_ngcontent-%COMP%]{background-color:#006400;color:#fff}mat-progress-spinner[_ngcontent-%COMP%]{margin:auto}.details-dimensions[_ngcontent-%COMP%]{display:block!important;align-content:center!important;align-self:baseline!important;width:-webkit-fill-available!important;text-align:end!important}"]}),n})();var W=e("Y3Km"),nn=e("01hP");function tn(n,t){if(1&n&&(g.Qb(0,"span"),g.xc(1),g.Pb()),2&n){const n=g.cc();g.zb(1),g.zc("nr ",null==n.consignment?null:n.consignment.consignmentId,"")}}function en(n,t){1&n&&g.Lb(0,"mat-spinner")}function cn(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"mat-label"),g.xc(3),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.contactPerson)}}function on(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"mat-label"),g.xc(3),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(3),g.zc(" tel.: ",n.consignment.shipper.contactPhone,"")}}function an(n,t){if(1&n&&(g.Qb(0,"mat-label"),g.xc(1),g.Pb()),2&n){const n=g.cc(2);g.zb(1),g.zc("email: ",n.consignment.shipper.contactEmail,"")}}function ln(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"mat-label"),g.xc(3),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.contactPerson)}}function sn(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"mat-label"),g.xc(3),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(3),g.zc("tel.: ",null==n.consignment?null:n.consignment.receiver.contactPhone,"")}}function bn(n,t){if(1&n&&(g.Qb(0,"mat-label"),g.xc(1),g.Pb()),2&n){const n=g.cc(2);g.zb(1),g.zc("email: ",null==n.consignment?null:n.consignment.receiver.contactEmail,"")}}function rn(n,t){1&n&&(g.Ob(0),g.Qb(1,"mat-label"),g.xc(2,"* paczka niestandardowa"),g.Pb(),g.Lb(3,"br"),g.Nb())}function mn(n,t){if(1&n&&(g.Ob(0),g.Qb(1,"mat-label"),g.xc(2),g.Pb(),g.Lb(3,"br"),g.Qb(4,"mat-label"),g.xc(5),g.Pb(),g.Lb(6,"br"),g.vc(7,rn,4,0,"ng-container",1),g.Nb()),2&n){const n=g.cc(2);g.zb(2),g.zc("masa: ",null==n.consignment?null:n.consignment.piece.weight,"kg"),g.zb(3),g.Bc("wymiary: ",null==n.consignment?null:n.consignment.piece.width," x ",null==n.consignment?null:n.consignment.piece.length," x ",null==n.consignment?null:n.consignment.piece.height," [cm]"),g.zb(2),g.hc("ngIf",null==n.consignment?null:n.consignment.piece.nonStandard)}}function un(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"mat-label"),g.xc(3),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(3),g.zc("uwagi: ",n.consignment.comment,"")}}function gn(n,t){if(1&n&&(g.Ob(0),g.Qb(1,"mat-label"),g.xc(2),g.Pb(),g.Lb(3,"br"),g.Nb()),2&n){const n=g.cc(3);g.zb(2),g.zc("kwota pobrania: ",n.consignment.service.CoDValue,"z\u0142")}}function hn(n,t){if(1&n&&(g.Qb(0,"mat-label"),g.xc(1),g.Pb()),2&n){const n=g.cc(3);g.zb(1),g.zc("kwota ubezpieczenia: ",n.consignment.service.insuranceValue,"z\u0142")}}function dn(n,t){if(1&n&&(g.Ob(0),g.Lb(1,"br"),g.Qb(2,"h3",3),g.xc(3,"opcje:"),g.Pb(),g.Qb(4,"p"),g.vc(5,gn,4,1,"ng-container",1),g.vc(6,hn,2,1,"mat-label",1),g.Pb(),g.Nb()),2&n){const n=g.cc(2);g.zb(5),g.hc("ngIf",n.consignment.service.CoD),g.zb(1),g.hc("ngIf",n.consignment.service.insurance)}}function pn(n,t){1&n&&(g.Qb(0,"mat-icon"),g.xc(1,"done"),g.Pb())}function fn(n,t){if(1&n&&g.xc(0),2&n){const n=g.cc().$implicit;g.zc("",n.status," ")}}function Pn(n,t){if(1&n&&(g.Ob(0),g.Qb(1,"mat-step"),g.vc(2,fn,1,1,"ng-template",15),g.Qb(3,"p"),g.xc(4),g.Pb(),g.Qb(5,"p"),g.xc(6),g.Pb(),g.Pb(),g.Nb()),2&n){const n=t.$implicit;g.zb(4),g.yc(n.description),g.zb(2),g.yc(n.timestamp)}}function zn(n,t){if(1&n){const n=g.Rb();g.Qb(0,"div"),g.Qb(1,"div",2),g.Qb(2,"p"),g.Qb(3,"mat-label"),g.xc(4),g.Pb(),g.Lb(5,"br"),g.Qb(6,"mat-label"),g.xc(7),g.Pb(),g.Pb(),g.Lb(8,"br"),g.Qb(9,"h3",3),g.xc(10,"nadawca:"),g.Pb(),g.Qb(11,"p"),g.Qb(12,"mat-label"),g.xc(13),g.Pb(),g.Lb(14,"br"),g.Qb(15,"mat-label"),g.xc(16),g.Pb(),g.xc(17,"\xa0"),g.Qb(18,"mat-label"),g.xc(19),g.Pb(),g.xc(20,"\xa0"),g.Qb(21,"mat-label"),g.xc(22),g.Pb(),g.xc(23,"\xa0"),g.Qb(24,"mat-label"),g.xc(25),g.Pb(),g.xc(26,"\xa0"),g.Qb(27,"mat-label"),g.xc(28),g.Pb(),g.vc(29,cn,4,1,"ng-container",1),g.vc(30,on,4,1,"ng-container",1),g.Lb(31,"br"),g.vc(32,an,2,1,"mat-label",1),g.Pb(),g.Lb(33,"br"),g.Qb(34,"h3",3),g.xc(35,"odbiorca:"),g.Pb(),g.Qb(36,"p"),g.Qb(37,"mat-label"),g.xc(38),g.Pb(),g.Lb(39,"br"),g.Qb(40,"mat-label"),g.xc(41),g.Pb(),g.xc(42,"\xa0"),g.Qb(43,"mat-label"),g.xc(44),g.Pb(),g.xc(45,"\xa0"),g.Qb(46,"mat-label"),g.xc(47),g.Pb(),g.xc(48,"\xa0"),g.Qb(49,"mat-label"),g.xc(50),g.Pb(),g.xc(51,"\xa0"),g.Qb(52,"mat-label"),g.xc(53),g.Pb(),g.vc(54,ln,4,1,"ng-container",1),g.vc(55,sn,4,1,"ng-container",1),g.Lb(56,"br"),g.vc(57,bn,2,1,"mat-label",1),g.Pb(),g.Lb(58,"br"),g.Qb(59,"h3",3),g.xc(60,"przesy\u0142ka:"),g.Pb(),g.Qb(61,"p"),g.Qb(62,"mat-label"),g.xc(63),g.Pb(),g.Lb(64,"br"),g.vc(65,mn,8,5,"ng-container",1),g.Qb(66,"mat-label"),g.xc(67),g.Pb(),g.vc(68,un,4,1,"ng-container",1),g.Pb(),g.vc(69,dn,7,2,"ng-container",1),g.Pb(),g.Qb(70,"div",4),g.Qb(71,"h3",3),g.xc(72,"status:"),g.Pb(),g.Qb(73,"mat-vertical-stepper",5,6),g.vc(75,pn,2,0,"ng-template",7),g.vc(76,Pn,7,2,"ng-container",8),g.Pb(),g.Pb(),g.Qb(77,"div",9),g.Qb(78,"button",10),g.Yb("click",(function(){g.nc(n);const t=g.cc();return t.open(t.consignment.labelPath)})),g.xc(79," poka\u017c etykiet\u0119 "),g.Pb(),g.Qb(80,"button",10),g.Yb("click",(function(){g.nc(n);const t=g.cc();return t.open(t.consignment.letterPath)})),g.xc(81," poka\u017c list przewozowy "),g.Pb(),g.Qb(82,"button",11),g.Yb("click",(function(){return g.nc(n),g.cc().onDelete()})),g.xc(83," - usu\u0144 przesy\u0142k\u0119 "),g.Pb(),g.Qb(84,"div"),g.Qb(85,"button",12),g.xc(86," + utw\xf3rz now\u0105 "),g.Pb(),g.Qb(87,"button",13),g.xc(88," + utw\xf3rz podobn\u0105 "),g.Pb(),g.Pb(),g.Qb(89,"div"),g.Qb(90,"button",14),g.xc(91," zam\xf3w kuriera "),g.Pb(),g.Pb(),g.Pb(),g.Pb()}if(2&n){const n=g.cc();g.zb(4),g.zc("w\u0142a\u015bciciel: ",null==n.consignment?null:n.consignment.login,""),g.zb(3),g.zc("data: ",null==n.consignment?null:n.consignment.shipmentDate,""),g.zb(6),g.yc(null==n.consignment?null:n.consignment.shipper.name),g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.postalCode),g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.city),g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.street),g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.houseNumber),g.zb(3),g.yc(null==n.consignment?null:n.consignment.shipper.apartmentNumber),g.zb(1),g.hc("ngIf",(null==n.consignment?null:n.consignment.shipper.contactPerson)&&(null==n.consignment?null:n.consignment.shipper.name.toLowerCase())!==(null==n.consignment?null:n.consignment.shipper.contactPerson.toLowerCase())),g.zb(1),g.hc("ngIf",null==n.consignment?null:n.consignment.shipper.contactPhone),g.zb(2),g.hc("ngIf",null==n.consignment?null:n.consignment.shipper.contactEmail),g.zb(6),g.yc(null==n.consignment?null:n.consignment.receiver.name),g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.postalCode),g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.city),g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.street),g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.houseNumber),g.zb(3),g.yc(null==n.consignment?null:n.consignment.receiver.apartmentNumber),g.zb(1),g.hc("ngIf",(null==n.consignment?null:n.consignment.receiver.contactPerson)&&(null==n.consignment?null:n.consignment.receiver.name.toLowerCase())!==(null==n.consignment?null:n.consignment.receiver.contactPerson.toLowerCase())),g.zb(1),g.hc("ngIf",null==n.consignment?null:n.consignment.receiver.contactPhone),g.zb(2),g.hc("ngIf",null==n.consignment?null:n.consignment.receiver.contactEmail),g.zb(6),g.yc(null==n.consignment?null:n.consignment.piece.type),g.zb(2),g.hc("ngIf","ENVELOPE"!==(null==n.consignment?null:n.consignment.piece.type)),g.zb(2),g.zc("zawarto\u015b\u0107: ",null==n.consignment?null:n.consignment.content,""),g.zb(1),g.hc("ngIf",null==n.consignment?null:n.consignment.comment),g.zb(1),g.hc("ngIf",(null==n.consignment?null:n.consignment.service.CoD)||(null==n.consignment?null:n.consignment.service.insurance)),g.zb(7),g.hc("ngForOf",null==n.consignment?null:n.consignment.trackAndTraceInfo.slice().reverse()),g.zb(2),g.hc("disabled",!n.consignment.labelPath),g.zb(2),g.hc("disabled",!n.consignment.letterPath)}}const vn=u.a.serverUrl,Qn=[{path:"",component:U},{path:"create",component:W.a},{path:":consignmentId",component:(()=>{class n{constructor(n,t,e,c){this.consignmentsService=n,this.route=t,this.authService=e,this.router=c,this.isLoading=!0}ngOnInit(){this.authStatusSub=this.authService.getAuthStatusListener().subscribe(()=>{this.isLoading=!1}),this.route.paramMap.subscribe(n=>{if(n.has("consignmentId")){const t=n.get("consignmentId");this.isLoading=!0,this.getConsignment(t)}else this.router.navigate(["/consignments"])})}getConsignment(n){this.consignmentsService.getConsignment(n).then(n=>{this.isLoading=!1,this.consignment={login:n.login,consignmentId:n.consignmentId,creationDate:n.creationDate,status:n.status,shipper:n.shipper,receiver:n.receiver,piece:n.piece,payerType:n.payerType,service:n.service,shipmentDate:n.shipmentDate,comment:n.comment,content:n.content,labelPath:vn+n.labelPath,letterPath:vn+n.letterPath,trackAndTraceInfo:n.trackAndTraceInfo}},n=>{})}formatDate(n){return n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear()}open(n){window.open(n,"_blank")}onDelete(){this.consignmentsService.deleteConsignments([this.consignment.login],[{userName:this.consignment.login,consignmentId:this.consignment.consignmentId}]).then(()=>{this.router.navigate(["/consignments"])},n=>{})}ngOnDestroy(){this.authStatusSub.unsubscribe()}}return n.\u0275fac=function(t){return new(t||n)(g.Kb(m.a),g.Kb(o.a),g.Kb(r.a),g.Kb(o.b))},n.\u0275cmp=g.Eb({type:n,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"mat-title"],[4,"ngIf"],[1,"details-container"],[1,"mat-h3"],[1,"stepper-container"],["linear",""],["stepper",""],["matStepperIcon","edit"],[4,"ngFor","ngForOf"],[1,"action-container"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent","routerLink","/consignments/create"],["mat-raised-button","","color","accent"],["mat-raised-button","","color","accent","disabled",""],["matStepperIcon","number","matStepLabel",""]],template:function(n,t){1&n&&(g.Qb(0,"h1",0),g.xc(1," szczeg\xf3\u0142y przesy\u0142ki "),g.vc(2,tn,2,1,"span",1),g.Pb(),g.vc(3,en,1,0,"mat-spinner",1),g.vc(4,zn,92,28,"div",1)),2&n&&(g.zb(2),g.hc("ngIf",!t.isLoading),g.zb(1),g.hc("ngIf",t.isLoading),g.zb(1),g.hc("ngIf",!t.isLoading))},directives:[c.k,Q.c,h.f,nn.e,nn.c,c.j,p.a,o.c,z.a,nn.a,nn.b],styles:["mat-spinner[_ngcontent-%COMP%]{margin:auto}p[_ngcontent-%COMP%]{padding-left:1em}h3[_ngcontent-%COMP%]{margin:0}.stepper-container[_ngcontent-%COMP%]{float:right;width:50%}.details-container[_ngcontent-%COMP%]{float:left;width:50%}.action-container[_ngcontent-%COMP%]{width:100%;display:inline-block}button[_ngcontent-%COMP%]{margin:2em 1.5em 0 0}"]}),n})()}];let wn=(()=>{class n{}return n.\u0275mod=g.Ib({type:n}),n.\u0275inj=g.Hb({factory:function(t){return new(t||n)},imports:[[o.e.forChild(Qn)],o.e]}),n})();var xn=e("vvyD");const kn=(n,t,e)=>{if(0==e||0==t)return"0 z "+e;const c=n*t;return`${c+1} - ${c<(e=Math.max(e,0))?Math.min(c+t,e):c+t} z ${e}`};function yn(){const n=new s.b;return n.itemsPerPageLabel="liczba przesy\u0142ek na stronie:",n.nextPageLabel="poprzednia strona",n.previousPageLabel="nast\u0119pna strona",n.getRangeLabel=kn,n}let Cn=(()=>{class n{}return n.\u0275mod=g.Ib({type:n}),n.\u0275inj=g.Hb({factory:function(t){return new(t||n)},providers:[{provide:s.b,useValue:yn()}],imports:[[c.c,i.q,xn.a,wn]]}),n})()}}]);