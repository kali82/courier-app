!function(){function n(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function e(n,e){for(var t=0;t<e.length;t++){var c=e[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function t(n,t,c){return t&&e(n.prototype,t),c&&e(n,c),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{ZLIq:function(e,c,i){"use strict";i.r(c),i.d(c,"ConsignmentsModule",(function(){return Nn}));var o,a=i("ofXK"),l=i("3Pt+"),r=i("tyNb"),s=i("chLL"),b=i("tmTa"),m=i("sCmA"),u=i("R3tS"),g=i("qXBG"),d=i("Wg6b"),p=i("AytR"),h=i("fXoL"),f=i("IRfi"),v=i("A2Vd"),P=i("Xlwt"),z=i("J0hL"),k=i("gVAx"),y=i("TY1r"),Q=i("SSqQ"),w=i("G/Ji"),x=i("SnT8"),C=((o=function(){function e(t){n(this,e),this.vcRef=t}return t(e,[{key:"expended",get:function(){return this.opened}},{key:"cdkDetailRow",set:function(n){n!==this.row&&(this.row=n)}},{key:"template",set:function(n){n!==this.tRef&&(this.tRef=n)}},{key:"onClick",value:function(){this.toggle()}},{key:"toggle",value:function(){this.opened?this.vcRef.clear():this.render(),this.opened=this.vcRef.length>0}},{key:"render",value:function(){this.vcRef.clear(),this.tRef&&this.row&&this.vcRef.createEmbeddedView(this.tRef,{$implicit:this.row})}}]),e}()).\u0275fac=function(n){return new(n||o)(h.Kb(h.P))},o.\u0275dir=h.Fb({type:o,selectors:[["","cdkDetailRow",""]],hostVars:2,hostBindings:function(n,e){1&n&&h.Yb("click",(function(){return e.onClick()})),2&n&&h.Cb("expanded",e.expended)},inputs:{cdkDetailRow:"cdkDetailRow",template:["cdkDetailRowTpl","template"]}}),o);function L(n,e){if(1&n){var t=h.Rb();h.Qb(0,"button",31),h.Yb("click",(function(){return h.nc(t),h.cc(2).deleteSelected()})),h.Qb(1,"mat-icon"),h.xc(2,"delete"),h.Pb(),h.xc(3," usu\u0144 "),h.Pb()}}function S(n,e){if(1&n){var t=h.Rb();h.Qb(0,"button",32),h.Yb("click",(function(){return h.nc(t),h.cc(2).settleSelected()})),h.Qb(1,"mat-icon"),h.xc(2,"check_circle"),h.Pb(),h.xc(3," rozlicz "),h.Pb()}}function O(n,e){if(1&n){var t=h.Rb();h.Qb(0,"mat-header-cell"),h.Qb(1,"mat-checkbox",33),h.Yb("change",(function(n){h.nc(t);var e=h.cc(2);return n?e.masterToggle():null})),h.Pb(),h.Pb()}if(2&n){var c=h.cc(2);h.zb(1),h.hc("checked",c.selection.hasValue()&&c.isAllSelected())("indeterminate",c.selection.hasValue()&&!c.isAllSelected())}}function I(n,e){if(1&n){var t=h.Rb();h.Qb(0,"mat-cell",34),h.Yb("click",(function(n){return h.nc(t),n.stopPropagation()})),h.Qb(1,"mat-checkbox",35),h.Yb("change",(function(n){h.nc(t);var c=e.$implicit,i=h.cc(2);return n?i.selection.toggle(c):null})),h.Pb(),h.Pb()}if(2&n){var c=e.$implicit,i=h.cc(2);h.zb(1),h.hc("checked",i.selection.isSelected(c))}}function D(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," rozliczone "),h.Pb())}function R(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.Lb(1,"mat-checkbox",37),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.hc("checked",t.settled)}}function N(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," id przesy\u0142ki "),h.Pb())}function T(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.yc(t.consignmentId)}}function _(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," u\u017cytkownik "),h.Pb())}function M(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.yc(t.login)}}function A(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," nadawca "),h.Pb())}function Y(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.yc(t.shipperName)}}function $(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," odbiorca "),h.Pb())}function E(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.zc(" ",t.receiverName," ")}}function V(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," status "),h.Pb())}function j(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.zc(" ",t.trackAndTraceInfo[0].status," ")}}function F(n,e){1&n&&(h.Qb(0,"mat-header-cell",36),h.xc(1," data nadania "),h.Pb())}function K(n,e){if(1&n&&(h.Qb(0,"mat-cell"),h.xc(1),h.Pb()),2&n){var t=e.$implicit;h.zb(1),h.zc(" ",t.shipmentDateTime," ")}}function H(n,e){1&n&&h.Lb(0,"mat-header-cell",36)}function q(n,e){if(1&n){var t=h.Rb();h.Qb(0,"mat-cell"),h.Qb(1,"button",38),h.Yb("click",(function(n){return h.nc(t),n.stopPropagation()})),h.Qb(2,"mat-icon"),h.xc(3,"create"),h.Pb(),h.Pb(),h.Qb(4,"button",39),h.Yb("click",(function(n){h.nc(t);var c=e.$implicit;return h.cc(2).onLabelPrint(c.consignmentId),n.stopPropagation()})),h.Qb(5,"mat-icon"),h.xc(6,"print"),h.Pb(),h.Pb(),h.Pb()}}function J(n,e){1&n&&h.Lb(0,"mat-header-row")}function X(n,e){if(1&n&&h.Lb(0,"mat-row",40),2&n){var t=e.$implicit;h.cc();var c=h.lc(49);h.hc("cdkDetailRow",t)("cdkDetailRowTpl",c)}}function B(n,e){1&n&&h.Lb(0,"mat-progress-spinner",41)}function Z(n,e){if(1&n&&(h.Ob(0),h.Qb(1,"div"),h.Qb(2,"p"),h.xc(3),h.Pb(),h.Qb(4,"p"),h.xc(5),h.Pb(),h.Pb(),h.Nb()),2&n){var t=e.$implicit;h.zb(3),h.yc(t.description),h.zb(2),h.yc(t.timestamp)}}function G(n,e){if(1&n){var t=h.Rb();h.Qb(0,"div",42),h.Qb(1,"mat-grid-list",43),h.Qb(2,"mat-grid-tile"),h.Qb(3,"div",44),h.Qb(4,"h5"),h.xc(5,"wymiary:"),h.Pb(),h.Lb(6,"br"),h.Qb(7,"span"),h.xc(8),h.Pb(),h.Lb(9,"br"),h.Qb(10,"span"),h.xc(11),h.Pb(),h.Lb(12,"br"),h.Qb(13,"span"),h.xc(14),h.Pb(),h.Pb(),h.Pb(),h.Qb(15,"mat-grid-tile"),h.Qb(16,"p"),h.xc(17),h.Pb(),h.Pb(),h.Qb(18,"mat-grid-tile"),h.Qb(19,"p"),h.xc(20),h.Pb(),h.Pb(),h.Qb(21,"mat-grid-tile"),h.vc(22,Z,6,2,"ng-container",45),h.Pb(),h.Pb(),h.Qb(23,"button",46),h.Yb("click",(function(){h.nc(t);var n=e.$implicit;return h.cc(2).showDetails(n.consignmentId)})),h.xc(24," szczeg\xf3\u0142y przesy\u0142ki "),h.Pb(),h.Pb()}if(2&n){var c=e.$implicit,i=h.cc(2);h.zb(1),h.ic("cols",i.detailColumns),h.zb(7),h.zc("wysoko\u015b\u0107: ",c.height,"cm"),h.zb(3),h.zc("szeroko\u015b\u0107: ",c.width,"cm"),h.zb(3),h.zc("d\u0142ugo\u015b\u0107 ",c.length,"cm"),h.zb(3),h.zc("nadawca ",c.shipperName,""),h.zb(3),h.zc("odbiorca ",c.receiverName,""),h.zb(2),h.hc("ngForOf",c.trackAndTraceInfo)}}var U=function(){return[5,10,100]};function W(n,e){if(1&n){var t=h.Rb();h.Qb(0,"div"),h.Qb(1,"h1",1),h.xc(2,"lista przesy\u0142ek"),h.Pb(),h.Qb(3,"div",2),h.Qb(4,"mat-form-field",3),h.Qb(5,"input",4),h.Yb("keyup",(function(n){return h.nc(t),h.cc().applyFilter(n.target.value)})),h.Pb(),h.Pb(),h.Pb(),h.vc(6,L,4,0,"button",5),h.vc(7,S,4,0,"button",6),h.Qb(8,"button",7),h.Qb(9,"i",8),h.xc(10," add_circle "),h.Pb(),h.xc(11," utw\xf3rz now\u0105 przesy\u0142k\u0119 "),h.Pb(),h.Qb(12,"div",9),h.Qb(13,"mat-table",10,11),h.Ob(15,12),h.vc(16,O,2,2,"mat-header-cell",13),h.vc(17,I,2,1,"mat-cell",14),h.Nb(),h.Ob(18,15),h.vc(19,D,2,0,"mat-header-cell",16),h.vc(20,R,2,1,"mat-cell",17),h.Nb(),h.Ob(21,18),h.vc(22,N,2,0,"mat-header-cell",16),h.vc(23,T,2,1,"mat-cell",17),h.Nb(),h.Ob(24,19),h.vc(25,_,2,0,"mat-header-cell",16),h.vc(26,M,2,1,"mat-cell",17),h.Nb(),h.Ob(27,20),h.vc(28,A,2,0,"mat-header-cell",16),h.vc(29,Y,2,1,"mat-cell",17),h.Nb(),h.Ob(30,21),h.vc(31,$,2,0,"mat-header-cell",16),h.vc(32,E,2,1,"mat-cell",17),h.Nb(),h.Ob(33,22),h.vc(34,V,2,0,"mat-header-cell",16),h.vc(35,j,2,1,"mat-cell",17),h.Nb(),h.Ob(36,23),h.vc(37,F,2,0,"mat-header-cell",16),h.vc(38,K,2,1,"mat-cell",17),h.Nb(),h.Ob(39,24),h.vc(40,H,1,0,"mat-header-cell",16),h.vc(41,q,7,0,"mat-cell",17),h.Nb(),h.vc(42,J,1,0,"mat-header-row",25),h.vc(43,X,1,2,"mat-row",26),h.Pb(),h.vc(44,B,1,0,"mat-progress-spinner",27),h.Qb(45,"mat-toolbar",28),h.Qb(46,"mat-toolbar-row"),h.Qb(47,"mat-paginator",29),h.Yb("page",(function(n){h.nc(t);var e=h.cc();return e.pageEvent=e.handlePage(n)})),h.Pb(),h.Pb(),h.Pb(),h.Pb(),h.vc(48,G,25,7,"ng-template",null,30,h.wc),h.Pb()}if(2&n){var c=h.cc();h.zb(6),h.hc("ngIf",c.selection.hasValue()),h.zb(1),h.hc("ngIf",c.selection.hasValue()&&c.isAdmin),h.zb(6),h.hc("dataSource",c.dataSource),h.zb(29),h.hc("matHeaderRowDef",c.displayedColumns),h.zb(1),h.hc("matRowDefColumns",c.displayedColumns),h.zb(1),h.hc("ngIf",c.isLoading),h.zb(3),h.hc("pageSizeOptions",h.jc(7,U))}}var nn,en=p.a.serverUrl,tn=((nn=function(){function e(t,c,i){n(this,e),this.consignmentsService=t,this.router=c,this.authService=i,this.isAuthenticated=!1,this.isAdmin=!1,this.displayedColumns=["select","consignmentId","login","shipperName","receiverName","status","rozliczone","shipmentDateTime","action"],this.detailColumns=this.displayedColumns.length-1,this.selection=new s.c(!0,[]),this.isExpansionDetailRow=function(n){return n.hasOwnProperty("detailRow")}}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.isLoading=!0,this.isAdmin=this.authService.getIsAdmin(),this.isAuthenticated=this.authService.getIsAuth(),this.authStatusSub=this.authService.getAuthStatusListener().subscribe((function(e){n.isAuthenticated=e})),this.listConsignments()}},{key:"listConsignments",value:function(){var n=this;this.consignmentsService.listConsignments().then((function(e){n.isLoading=!1,n.consignments=e.consignments,console.log(e.consignments),n.dataSource=new b.k(n.consignments),n.dataSource.paginator=n.paginator;var t={active:"shipmentDateTime",direction:"desc"};n.sort.active=t.active,n.sort.direction=t.direction,n.sort.sortChange.emit(t),n.dataSource.sort=n.sort}))}},{key:"applyFilter",value:function(n){n=(n=n.trim()).toLowerCase(),this.dataSource.filter=n}},{key:"showDetails",value:function(n){this.router.navigate(["./consignments/"+n])}},{key:"deleteSelected",value:function(){var n=this,e=[],t=[];this.selection.selected.forEach((function(n){e.push({userName:n.login,consignmentId:n.consignmentId}),t.push(n.login)})),this.consignmentsService.deleteConsignments(t,e).then((function(){n.listConsignments(),n.selection.clear()}),(function(n){}))}},{key:"settleSelected",value:function(){var n=this,e=[],t=[];this.selection.selected.forEach((function(n){e.push({userName:n.login,consignmentId:n.consignmentId}),t.push(n.login)})),this.consignmentsService.settleConsignments(t,e).then((function(){n.listConsignments(),n.selection.clear()}),(function(n){}))}},{key:"handlePage",value:function(n){this.selection.selected.length>n.pageSize&&(this.selection.clear(),this.selectRows())}},{key:"isAllSelected",value:function(){var n=this.selection.selected.length;return n===this.dataSource.paginator.length||n===this.dataSource.paginator.pageSize}},{key:"masterToggle",value:function(){this.isAllSelected()?this.selection.clear():this.selectRows()}},{key:"selectRows",value:function(){var n=this;this.dataSource._pageData(this.dataSource._orderData(this.dataSource.filteredData)).forEach((function(e){return n.selection.select(e)}))}},{key:"onLabelPrint",value:function(n){var e=this;this.isLoading=!0,this.consignmentsService.getConsignment(n).then((function(n){var t=en+n.labelPath;e.isLoading=!1,window.open(t,"_blank")}),(function(n){}))}},{key:"ngOnDestroy",value:function(){this.authStatusSub.unsubscribe()}}]),e}()).\u0275fac=function(n){return new(n||nn)(h.Kb(d.a),h.Kb(r.b),h.Kb(g.a))},nn.\u0275cmp=h.Eb({type:nn,selectors:[["app-consignment-list"]],viewQuery:function(n,e){var t;1&n&&(h.Cc(m.a,!0),h.Cc(u.a,!0)),2&n&&(h.kc(t=h.Zb())&&(e.paginator=t.first),h.kc(t=h.Zb())&&(e.sort=t.first))},decls:1,vars:1,consts:[[4,"ngIf"],[1,"mat-title"],[1,""],[1,"filter"],["matInput","","placeholder","wyszukaj przesy\u0142k\u0119",3,"keyup"],["mat-button","","class","delete-button","matTooltip","usu\u0144 wybrane","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-button","","class","settle-button","matTooltip","rozlicz wybrane","matTooltipPosition","above",3,"click",4,"ngIf"],["mat-raised-button","","color","accent","routerLink","create",1,"create-button"],[1,"material-icons"],[1,"list-container"],["matSort","",3,"dataSource"],["table",""],["matColumnDef","select",1,"mat-col-checkbox"],[4,"matHeaderCellDef"],[3,"click",4,"matCellDef"],["matColumnDef","rozliczone"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","consignmentId"],["matColumnDef","login"],["matColumnDef","shipperName"],["matColumnDef","receiverName"],["matColumnDef","status"],["matColumnDef","shipmentDateTime"],["matColumnDef","action"],[4,"matHeaderRowDef"],["matRipple","","class","element-row",3,"cdkDetailRow","cdkDetailRowTpl",4,"matRowDef","matRowDefColumns"],["color","primary","mode","indeterminate",4,"ngIf"],[1,"toolbar"],["pageSize","10",3,"pageSizeOptions","page"],["tpl",""],["mat-button","","matTooltip","usu\u0144 wybrane","matTooltipPosition","above",1,"delete-button",3,"click"],["mat-button","","matTooltip","rozlicz wybrane","matTooltipPosition","above",1,"settle-button",3,"click"],[3,"checked","indeterminate","change"],[3,"click"],[3,"checked","change"],["mat-sort-header",""],["disabled","true",3,"checked"],["mat-raised-button","","color","primary","matTooltip","utw\xf3rz podobn\u0105","matTooltipPosition","above",1,"edit-button",3,"click"],["mat-raised-button","","color","primary","matTooltip","wydrukuj etykiet\u0119","matTooltipPosition","above",1,"edit-button",3,"click"],["matRipple","",1,"element-row",3,"cdkDetailRow","cdkDetailRowTpl"],["color","primary","mode","indeterminate"],[1,"mat-row","detail-row"],[3,"cols"],[1,"details-diemnsions"],[4,"ngFor","ngForOf"],["mat-raised-button","","color","accent","matTooltip","szczeg\xf3\u0142y przesy\u0142ki",3,"click"]],template:function(n,e){1&n&&h.vc(0,W,50,8,"div",0),2&n&&h.hc("ngIf",e.isAuthenticated)},directives:[a.k,f.b,v.b,P.a,r.c,b.j,u.a,b.c,b.e,b.b,b.g,b.i,z.a,z.c,m.a,k.a,y.a,b.d,Q.a,b.a,u.b,b.f,b.h,C,w.a,x.a,x.c,a.j],styles:[".detail-row[_ngcontent-%COMP%]{font-size:.8em;border-bottom:2px solid #ffd740}.element-row[_ngcontent-%COMP%]{min-height:4em;border:none;border-top:1px solid rgba(0,0,0,.2)}.element-row[_ngcontent-%COMP%]:not(.expanded){cursor:pointer}.element-row[_ngcontent-%COMP%]:not(.expanded):hover{background:#f5f5f5}.element-row[_ngcontent-%COMP%]:not(.expanded):hover   button[_ngcontent-%COMP%]{visibility:visible}.mat-column-select[_ngcontent-%COMP%]{flex:0 0 4%!important}.edit-button[_ngcontent-%COMP%]{visibility:hidden;margin:0 0 0 .5em}.mat-paginator[_ngcontent-%COMP%]{width:100%;background:none}.mat-toolbar-row[_ngcontent-%COMP%]{padding:0}button[_ngcontent-%COMP%]{margin:2em 1.5em 0 0}.delete-button[_ngcontent-%COMP%]{background-color:red;color:#fff}.create-button[_ngcontent-%COMP%], .delete-button[_ngcontent-%COMP%], .settle-button[_ngcontent-%COMP%]{margin:0 4px!important}.settle-button[_ngcontent-%COMP%]{background-color:#006400;color:#fff}mat-progress-spinner[_ngcontent-%COMP%]{margin:auto}.details-dimensions[_ngcontent-%COMP%]{display:block!important;align-content:center!important;align-self:baseline!important;width:-webkit-fill-available!important;text-align:end!important}"]}),nn),cn=i("Y3Km"),on=i("01hP");function an(n,e){if(1&n&&(h.Qb(0,"span"),h.xc(1),h.Pb()),2&n){var t=h.cc();h.zb(1),h.zc("nr ",null==t.consignment?null:t.consignment.consignmentId,"")}}function ln(n,e){1&n&&h.Lb(0,"mat-spinner")}function rn(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"mat-label"),h.xc(3),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(3),h.yc(null==t.consignment?null:t.consignment.shipper.contactPerson)}}function sn(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"mat-label"),h.xc(3),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(3),h.zc(" tel.: ",t.consignment.shipper.contactPhone,"")}}function bn(n,e){if(1&n&&(h.Qb(0,"mat-label"),h.xc(1),h.Pb()),2&n){var t=h.cc(2);h.zb(1),h.zc("email: ",t.consignment.shipper.contactEmail,"")}}function mn(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"mat-label"),h.xc(3),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(3),h.yc(null==t.consignment?null:t.consignment.receiver.contactPerson)}}function un(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"mat-label"),h.xc(3),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(3),h.zc("tel.: ",null==t.consignment?null:t.consignment.receiver.contactPhone,"")}}function gn(n,e){if(1&n&&(h.Qb(0,"mat-label"),h.xc(1),h.Pb()),2&n){var t=h.cc(2);h.zb(1),h.zc("email: ",null==t.consignment?null:t.consignment.receiver.contactEmail,"")}}function dn(n,e){1&n&&(h.Ob(0),h.Qb(1,"mat-label"),h.xc(2,"* paczka niestandardowa"),h.Pb(),h.Lb(3,"br"),h.Nb())}function pn(n,e){if(1&n&&(h.Ob(0),h.Qb(1,"mat-label"),h.xc(2),h.Pb(),h.Lb(3,"br"),h.Qb(4,"mat-label"),h.xc(5),h.Pb(),h.Lb(6,"br"),h.vc(7,dn,4,0,"ng-container",1),h.Nb()),2&n){var t=h.cc(2);h.zb(2),h.zc("masa: ",null==t.consignment?null:t.consignment.piece.weight,"kg"),h.zb(3),h.Bc("wymiary: ",null==t.consignment?null:t.consignment.piece.width," x ",null==t.consignment?null:t.consignment.piece.length," x ",null==t.consignment?null:t.consignment.piece.height," [cm]"),h.zb(2),h.hc("ngIf",null==t.consignment?null:t.consignment.piece.nonStandard)}}function hn(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"mat-label"),h.xc(3),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(3),h.zc("uwagi: ",t.consignment.comment,"")}}function fn(n,e){if(1&n&&(h.Ob(0),h.Qb(1,"mat-label"),h.xc(2),h.Pb(),h.Lb(3,"br"),h.Nb()),2&n){var t=h.cc(3);h.zb(2),h.zc("kwota pobrania: ",t.consignment.service.CoDValue,"z\u0142")}}function vn(n,e){if(1&n&&(h.Qb(0,"mat-label"),h.xc(1),h.Pb()),2&n){var t=h.cc(3);h.zb(1),h.zc("kwota ubezpieczenia: ",t.consignment.service.insuranceValue,"z\u0142")}}function Pn(n,e){if(1&n&&(h.Ob(0),h.Lb(1,"br"),h.Qb(2,"h3",3),h.xc(3,"opcje:"),h.Pb(),h.Qb(4,"p"),h.vc(5,fn,4,1,"ng-container",1),h.vc(6,vn,2,1,"mat-label",1),h.Pb(),h.Nb()),2&n){var t=h.cc(2);h.zb(5),h.hc("ngIf",t.consignment.service.CoD),h.zb(1),h.hc("ngIf",t.consignment.service.insurance)}}function zn(n,e){1&n&&(h.Qb(0,"mat-icon"),h.xc(1,"done"),h.Pb())}function kn(n,e){if(1&n&&h.xc(0),2&n){var t=h.cc().$implicit;h.zc("",t.status," ")}}function yn(n,e){if(1&n&&(h.Ob(0),h.Qb(1,"mat-step"),h.vc(2,kn,1,1,"ng-template",15),h.Qb(3,"p"),h.xc(4),h.Pb(),h.Qb(5,"p"),h.xc(6),h.Pb(),h.Pb(),h.Nb()),2&n){var t=e.$implicit;h.zb(4),h.yc(t.description),h.zb(2),h.yc(t.timestamp)}}function Qn(n,e){if(1&n){var t=h.Rb();h.Qb(0,"div"),h.Qb(1,"div",2),h.Qb(2,"p"),h.Qb(3,"mat-label"),h.xc(4),h.Pb(),h.Lb(5,"br"),h.Qb(6,"mat-label"),h.xc(7),h.Pb(),h.Pb(),h.Lb(8,"br"),h.Qb(9,"h3",3),h.xc(10,"nadawca:"),h.Pb(),h.Qb(11,"p"),h.Qb(12,"mat-label"),h.xc(13),h.Pb(),h.Lb(14,"br"),h.Qb(15,"mat-label"),h.xc(16),h.Pb(),h.xc(17,"\xa0"),h.Qb(18,"mat-label"),h.xc(19),h.Pb(),h.xc(20,"\xa0"),h.Qb(21,"mat-label"),h.xc(22),h.Pb(),h.xc(23,"\xa0"),h.Qb(24,"mat-label"),h.xc(25),h.Pb(),h.xc(26,"\xa0"),h.Qb(27,"mat-label"),h.xc(28),h.Pb(),h.vc(29,rn,4,1,"ng-container",1),h.vc(30,sn,4,1,"ng-container",1),h.Lb(31,"br"),h.vc(32,bn,2,1,"mat-label",1),h.Pb(),h.Lb(33,"br"),h.Qb(34,"h3",3),h.xc(35,"odbiorca:"),h.Pb(),h.Qb(36,"p"),h.Qb(37,"mat-label"),h.xc(38),h.Pb(),h.Lb(39,"br"),h.Qb(40,"mat-label"),h.xc(41),h.Pb(),h.xc(42,"\xa0"),h.Qb(43,"mat-label"),h.xc(44),h.Pb(),h.xc(45,"\xa0"),h.Qb(46,"mat-label"),h.xc(47),h.Pb(),h.xc(48,"\xa0"),h.Qb(49,"mat-label"),h.xc(50),h.Pb(),h.xc(51,"\xa0"),h.Qb(52,"mat-label"),h.xc(53),h.Pb(),h.vc(54,mn,4,1,"ng-container",1),h.vc(55,un,4,1,"ng-container",1),h.Lb(56,"br"),h.vc(57,gn,2,1,"mat-label",1),h.Pb(),h.Lb(58,"br"),h.Qb(59,"h3",3),h.xc(60,"przesy\u0142ka:"),h.Pb(),h.Qb(61,"p"),h.Qb(62,"mat-label"),h.xc(63),h.Pb(),h.Lb(64,"br"),h.vc(65,pn,8,5,"ng-container",1),h.Qb(66,"mat-label"),h.xc(67),h.Pb(),h.vc(68,hn,4,1,"ng-container",1),h.Pb(),h.vc(69,Pn,7,2,"ng-container",1),h.Pb(),h.Qb(70,"div",4),h.Qb(71,"h3",3),h.xc(72,"status:"),h.Pb(),h.Qb(73,"mat-vertical-stepper",5,6),h.vc(75,zn,2,0,"ng-template",7),h.vc(76,yn,7,2,"ng-container",8),h.Pb(),h.Pb(),h.Qb(77,"div",9),h.Qb(78,"button",10),h.Yb("click",(function(){h.nc(t);var n=h.cc();return n.open(n.consignment.labelPath)})),h.xc(79," poka\u017c etykiet\u0119 "),h.Pb(),h.Qb(80,"button",10),h.Yb("click",(function(){h.nc(t);var n=h.cc();return n.open(n.consignment.letterPath)})),h.xc(81," poka\u017c list przewozowy "),h.Pb(),h.Qb(82,"button",11),h.Yb("click",(function(){return h.nc(t),h.cc().onDelete()})),h.xc(83," - usu\u0144 przesy\u0142k\u0119 "),h.Pb(),h.Qb(84,"div"),h.Qb(85,"button",12),h.xc(86," + utw\xf3rz now\u0105 "),h.Pb(),h.Qb(87,"button",13),h.xc(88," + utw\xf3rz podobn\u0105 "),h.Pb(),h.Pb(),h.Qb(89,"div"),h.Qb(90,"button",14),h.xc(91," zam\xf3w kuriera "),h.Pb(),h.Pb(),h.Pb(),h.Pb()}if(2&n){var c=h.cc();h.zb(4),h.zc("w\u0142a\u015bciciel: ",null==c.consignment?null:c.consignment.login,""),h.zb(3),h.zc("data: ",null==c.consignment?null:c.consignment.shipmentDate,""),h.zb(6),h.yc(null==c.consignment?null:c.consignment.shipper.name),h.zb(3),h.yc(null==c.consignment?null:c.consignment.shipper.postalCode),h.zb(3),h.yc(null==c.consignment?null:c.consignment.shipper.city),h.zb(3),h.yc(null==c.consignment?null:c.consignment.shipper.street),h.zb(3),h.yc(null==c.consignment?null:c.consignment.shipper.houseNumber),h.zb(3),h.yc(null==c.consignment?null:c.consignment.shipper.apartmentNumber),h.zb(1),h.hc("ngIf",(null==c.consignment?null:c.consignment.shipper.contactPerson)&&(null==c.consignment?null:c.consignment.shipper.name.toLowerCase())!==(null==c.consignment?null:c.consignment.shipper.contactPerson.toLowerCase())),h.zb(1),h.hc("ngIf",null==c.consignment?null:c.consignment.shipper.contactPhone),h.zb(2),h.hc("ngIf",null==c.consignment?null:c.consignment.shipper.contactEmail),h.zb(6),h.yc(null==c.consignment?null:c.consignment.receiver.name),h.zb(3),h.yc(null==c.consignment?null:c.consignment.receiver.postalCode),h.zb(3),h.yc(null==c.consignment?null:c.consignment.receiver.city),h.zb(3),h.yc(null==c.consignment?null:c.consignment.receiver.street),h.zb(3),h.yc(null==c.consignment?null:c.consignment.receiver.houseNumber),h.zb(3),h.yc(null==c.consignment?null:c.consignment.receiver.apartmentNumber),h.zb(1),h.hc("ngIf",(null==c.consignment?null:c.consignment.receiver.contactPerson)&&(null==c.consignment?null:c.consignment.receiver.name.toLowerCase())!==(null==c.consignment?null:c.consignment.receiver.contactPerson.toLowerCase())),h.zb(1),h.hc("ngIf",null==c.consignment?null:c.consignment.receiver.contactPhone),h.zb(2),h.hc("ngIf",null==c.consignment?null:c.consignment.receiver.contactEmail),h.zb(6),h.yc(null==c.consignment?null:c.consignment.piece.type),h.zb(2),h.hc("ngIf","ENVELOPE"!==(null==c.consignment?null:c.consignment.piece.type)),h.zb(2),h.zc("zawarto\u015b\u0107: ",null==c.consignment?null:c.consignment.content,""),h.zb(1),h.hc("ngIf",null==c.consignment?null:c.consignment.comment),h.zb(1),h.hc("ngIf",(null==c.consignment?null:c.consignment.service.CoD)||(null==c.consignment?null:c.consignment.service.insurance)),h.zb(7),h.hc("ngForOf",null==c.consignment?null:c.consignment.trackAndTraceInfo.slice().reverse()),h.zb(2),h.hc("disabled",!c.consignment.labelPath),h.zb(2),h.hc("disabled",!c.consignment.letterPath)}}var wn,xn,Cn=p.a.serverUrl,Ln=[{path:"",component:tn},{path:"create",component:cn.a},{path:":consignmentId",component:(wn=function(){function e(t,c,i,o){n(this,e),this.consignmentsService=t,this.route=c,this.authService=i,this.router=o,this.isLoading=!0}return t(e,[{key:"ngOnInit",value:function(){var n=this;this.authStatusSub=this.authService.getAuthStatusListener().subscribe((function(){n.isLoading=!1})),this.route.paramMap.subscribe((function(e){if(e.has("consignmentId")){var t=e.get("consignmentId");n.isLoading=!0,n.getConsignment(t)}else n.router.navigate(["/consignments"])}))}},{key:"getConsignment",value:function(n){var e=this;this.consignmentsService.getConsignment(n).then((function(n){e.isLoading=!1,e.consignment={login:n.login,consignmentId:n.consignmentId,creationDate:n.creationDate,status:n.status,shipper:n.shipper,receiver:n.receiver,piece:n.piece,payerType:n.payerType,service:n.service,shipmentDate:n.shipmentDate,comment:n.comment,content:n.content,labelPath:Cn+n.labelPath,letterPath:Cn+n.letterPath,trackAndTraceInfo:n.trackAndTraceInfo}}),(function(n){}))}},{key:"formatDate",value:function(n){return n.getDate()+"-"+(n.getMonth()+1)+"-"+n.getFullYear()}},{key:"open",value:function(n){window.open(n,"_blank")}},{key:"onDelete",value:function(){var n=this;this.consignmentsService.deleteConsignments([this.consignment.login],[{userName:this.consignment.login,consignmentId:this.consignment.consignmentId}]).then((function(){n.router.navigate(["/consignments"])}),(function(n){}))}},{key:"ngOnDestroy",value:function(){this.authStatusSub.unsubscribe()}}]),e}(),wn.\u0275fac=function(n){return new(n||wn)(h.Kb(d.a),h.Kb(r.a),h.Kb(g.a),h.Kb(r.b))},wn.\u0275cmp=h.Eb({type:wn,selectors:[["ng-component"]],decls:5,vars:3,consts:[[1,"mat-title"],[4,"ngIf"],[1,"details-container"],[1,"mat-h3"],[1,"stepper-container"],["linear",""],["stepper",""],["matStepperIcon","edit"],[4,"ngFor","ngForOf"],[1,"action-container"],["mat-raised-button","","color","accent",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],["mat-raised-button","","color","accent","routerLink","/consignments/create"],["mat-raised-button","","color","accent"],["mat-raised-button","","color","accent","disabled",""],["matStepperIcon","number","matStepLabel",""]],template:function(n,e){1&n&&(h.Qb(0,"h1",0),h.xc(1," szczeg\xf3\u0142y przesy\u0142ki "),h.vc(2,an,2,1,"span",1),h.Pb(),h.vc(3,ln,1,0,"mat-spinner",1),h.vc(4,Qn,92,28,"div",1)),2&n&&(h.zb(2),h.hc("ngIf",!e.isLoading),h.zb(1),h.hc("ngIf",e.isLoading),h.zb(1),h.hc("ngIf",!e.isLoading))},directives:[a.k,w.c,f.f,on.e,on.c,a.j,P.a,r.c,y.a,on.a,on.b],styles:["mat-spinner[_ngcontent-%COMP%]{margin:auto}p[_ngcontent-%COMP%]{padding-left:1em}h3[_ngcontent-%COMP%]{margin:0}.stepper-container[_ngcontent-%COMP%]{float:right;width:50%}.details-container[_ngcontent-%COMP%]{float:left;width:50%}.action-container[_ngcontent-%COMP%]{width:100%;display:inline-block}button[_ngcontent-%COMP%]{margin:2em 1.5em 0 0}"]}),wn)}],Sn=((xn=function e(){n(this,e)}).\u0275mod=h.Ib({type:xn}),xn.\u0275inj=h.Hb({factory:function(n){return new(n||xn)},imports:[[r.e.forChild(Ln)],r.e]}),xn),On=i("vvyD"),In=function(n,e,t){if(0==t||0==e)return"0 z "+t;var c=n*e;return"".concat(c+1," - ").concat(c<(t=Math.max(t,0))?Math.min(c+e,t):c+e," z ").concat(t)};var Dn,Rn,Nn=((Rn=function e(){n(this,e)}).\u0275mod=h.Ib({type:Rn}),Rn.\u0275inj=h.Hb({factory:function(n){return new(n||Rn)},providers:[{provide:m.b,useValue:(Dn=new m.b,Dn.itemsPerPageLabel="liczba przesy\u0142ek na stronie:",Dn.nextPageLabel="poprzednia strona",Dn.previousPageLabel="nast\u0119pna strona",Dn.getRangeLabel=In,Dn)}],imports:[[a.c,l.q,On.a,Sn]]}),Rn)}}])}();